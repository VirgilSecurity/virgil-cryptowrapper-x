name: VirgilCrypto

options:
  usesTabs: false
  indentWidth: 4
  tabWidth: 4
  transitivelyLinkDependencies: true
  deploymentTarget:
    iOS: "10.0"
    watchOS: "4.0"
    tvOS: "10.0"
    macOS: "10.9"

targets:
  VirgilCryptoCommon:
    type: framework
    platform: [iOS, tvOS, macOS]
    info:
      path: VirgilCryptoCommon/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    scheme:
      testTargets:
        - VirgilCryptoCommon-Tests_$platform
    sources:
      - VirgilCryptoCommon
    dependencies:
      - carthage: VSCCommon

  VirgilCryptoCommon_watchOS:
    type: framework
    platform: [watchOS]
    info:
      path: VirgilCryptoCommon/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    platformSuffix: ""
    sources:
      - VirgilCryptoCommon
    dependencies:
      - carthage: VSCCommon
    settings:
      PRODUCT_NAME: VirgilCryptoCommon

  VirgilCryptoCommon-Tests:
    type: bundle.unit-test
    platform: [iOS, tvOS, macOS]
    scheme: {}
    sources:
      - VirgilCryptoCommonTests
    dependencies:
      - target: VirgilCryptoCommon_$platform


  VirgilCryptoFoundation:
    type: framework
    platform: [iOS, tvOS, macOS]
    info:
      path: VirgilCryptoFoundation/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    scheme:
      testTargets:
        - VirgilCryptoFoundation-Tests_$platform
    sources:
      - VirgilCryptoFoundation
    dependencies:
      - target: VirgilCryptoCommon_$platform
      - carthage: VSCFoundation

  VirgilCryptoFoundation_watchOS:
    type: framework
    platform: [watchOS]
    info:
      path: VirgilCryptoFoundation/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    platformSuffix: ""
    sources:
      - VirgilCryptoFoundation
    dependencies:
      - target: VirgilCryptoCommon_$platform
      - carthage: VSCFoundation
    settings:
      PRODUCT_NAME: VirgilCryptoFoundation

  VirgilCryptoFoundation-Tests:
    type: bundle.unit-test
    platform: [iOS, tvOS, macOS]
    scheme: {}
    sources:
      - VirgilCryptoFoundationTests
    dependencies:
      - target: VirgilCryptoFoundation_$platform


  VirgilCryptoPythia:
    type: framework
    platform: [iOS, tvOS, macOS]
    info:
      path: VirgilCryptoPythia/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    scheme:
      testTargets:
        - VirgilCryptoPythia-Tests_$platform
    sources:
      - VirgilCryptoPythia
    dependencies:
      - target: VirgilCryptoCommon_$platform
      - carthage: VSCPythia

  VirgilCryptoPythia_watchOS:
    type: framework
    platform: [watchOS]
    info:
      path: VirgilCryptoPythia/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    platformSuffix: ""
    sources:
      - VirgilCryptoPythia
    dependencies:
      - target: VirgilCryptoCommon_$platform
      - carthage: VSCPythia
    settings:
      PRODUCT_NAME: VirgilCryptoPythia

  VirgilCryptoPythia-Tests:
    type: bundle.unit-test
    platform: [iOS, tvOS, macOS]
    scheme: {}
    sources:
      - VirgilCryptoPythiaTests
    dependencies:
      - target: VirgilCryptoPythia_$platform

  VirgilCryptoRatchet:
    type: framework
    platform: [iOS, tvOS, macOS]
    info:
      path: VirgilCryptoRatchet/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    scheme:
      testTargets:
        - VirgilCryptoRatchet-Tests_$platform
    sources:
      - VirgilCryptoRatchet
    dependencies:
      - target: VirgilCryptoCommon_$platform
      - target: VirgilCryptoFoundation_$platform
      - carthage: VSCRatchet

  VirgilCryptoRatchet_watchOS:
    type: framework
    platform: [watchOS]
    info:
      path: VirgilCryptoRatchet/Info.plist
      properties:
        CFBundleShortVersionString: 0.1.0
    platformSuffix: ""
    sources:
      - VirgilCryptoRatchet
    dependencies:
      - target: VirgilCryptoCommon_$platform
      - target: VirgilCryptoFoundation_$platform
      - carthage: VSCRatchet
    settings:
      PRODUCT_NAME: VirgilCryptoRatchet

  VirgilCryptoRatchet-Tests:
    type: bundle.unit-test
    platform: [iOS, tvOS, macOS]
    scheme: {}
    sources:
      - VirgilCryptoRatchetTests
    dependencies:
      - target: VirgilCryptoRatchet_$platform

aggregateTargets:
  Build_iOS:
    targets:
      - VirgilCryptoCommon_iOS
      - VirgilCryptoFoundation_iOS
      - VirgilCryptoPythia_iOS
      - VirgilCryptoRatchet_iOS

  Build_watchOS:
    targets:
      - VirgilCryptoCommon_watchOS
      - VirgilCryptoFoundation_watchOS
      - VirgilCryptoPythia_watchOS
      - VirgilCryptoRatchet_watchOS

  Build_tvOS:
    targets:
      - VirgilCryptoCommon_tvOS
      - VirgilCryptoFoundation_tvOS
      - VirgilCryptoPythia_tvOS
      - VirgilCryptoRatchet_tvOS

  Build_macOS:
    targets:
      - VirgilCryptoCommon_macOS
      - VirgilCryptoFoundation_macOS
      - VirgilCryptoPythia_macOS
      - VirgilCryptoRatchet_macOS

  Build_All:
    targets:
      - Build_iOS
      - Build_watchOS
      - Build_tvOS
      - Build_macOS
